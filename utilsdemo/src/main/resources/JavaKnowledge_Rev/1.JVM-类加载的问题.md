# 了解 JVM 的类加载吗

思路：首先从类的加载方式聊一下，接着再介绍类的加载的生命周期。然后介绍类加载每个环节做了哪些事情。

## .class 文件加载的方式有哪些

1. 从本地加载 .class 文件：
2. 从网络上拉取 .class 文件；
3. 从 jar 包，war 包中加载 .class 文件；
4. 数据库中读取：如 JSP 从数据苦中提取 .class 文件；
5. 将 Java 源文件动态编译成 .class 文件；

## 类加载的生命周期

如图所示：

![](/Users/azh/Dev_AZH/Java_St/WorkUtil/utilsdemo/src/main/resources/JavaKnowledge_Rev/photo/1.类加载周期.png)

### 加载过程

1. 首先需要通过类的完全限定名获取该类二进制字节流。
2. 获取类的字节流之后需要将类静态存储结构转换为方法区的运行时数据结构：即将就是将**类信息、常量、静态变量、即时编译器编译后的代码等数据**存放到**方法区**；所以在类加载的第二个阶段，方法区就已经有数据信息了。
3. 接着 JVM 会为这个类生成一个代表它的 java.lang.Class 对象，作为访问这个类方法区数据的入口，即将这个对象**分配到堆中**；

**需要注意这里方法区和堆中此时存在哪些数据**

