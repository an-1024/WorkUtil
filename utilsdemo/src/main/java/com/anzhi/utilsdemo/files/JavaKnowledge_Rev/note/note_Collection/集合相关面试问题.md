# 1. ArrayList 和 LinkedList 区别

## 区别：

> 存储结构上：
>
> > ArrayList 存储是一片连续的内存空间，内部用一个Object数组 elementData 作为存储容器。
> >
> > LinkedList：通过指针将数据进行关联，在内存中的存储不是连续的。底层实现是利用静态内部类Node来实现。实现了 Deque 接口，具备双端链表的特性。
>
> 数据查找性能：
>
> > 由于 ArrayList 存储数据在内存中是连续的空间，因此可以直接通过下标获取数据，而 LinkedList 则需要进行数据遍历。
>
> 数据插入、删除性能：
>
> > 增删位置不在末端，假设位置恰巧在中间，相同数据下， LinkedList 则要比 ArrayList 增删性能好。因为 ArrayList 需要移动整个数组的元素，LinkedList 则只需要遍历到对应位置，进行操作即可。如果是末端增删数据，相比于 LinkedList 要向 JVM 申请 Node 空间，ArrayList 在初始化的时候就创建好的空间，ArrayList 的增删在这种情况下还是要优于 LinkedList
>
> 存储空间的问题：
>
> >  由于 ArrayList 每次扩容都是原来的 1.5 倍，这种必然会存在 elementData 是 null 的情况，浪费了空间。LinkedList 则是直接插入元素，也就不存在这样的问题。

## 相同点：

> 两个集合在多线程下都是不安全的。
>
> 都实现了 List 接口。

# 2. ConcurrentHashMap 原理

> 底层数据结构：
>
> > 1.7 版本：ReentrantLock + Segment + HashEntry。一个  Segment 包含一个 HashEntry 。一个 HashEntry 是一个链表结构。
> >
> > 1.8 版本：synchronized + CAS + Node + 红黑树。Node 的 val 和 next 都用 volatile 修饰，保证可见性。
>
> 扩容：
>
> >
>
> 锁：
>
> 
